# Information

## 1. hyo.py 리팩토링

리팩토링한 코드는 WeatherDisplay라는 클래스를 사용하여 객체 지향적으로 구조화되었습니다. 

이 클래스는 날씨 정보와 관련된 변수 및 메서드를 묶어 한 곳에서 관리할 수 있도록 도와줍니다.

WeatherDisplay 클래스는 다음과 같은 주요 요소로 구성되어 있습니다.

변수: 클래스 내부에 선언된 변수들은 각각의 객체가 독립적으로 가지게 됩니다. 

이전 코드의 전역 변수들은 이제 클래스의 멤버 변수로 변경되었습니다.

메서드: 클래스 내부에 선언된 메서드들은 클래스의 인스턴스에서 사용할 수 있는 함수입니다. 

이전 코드의 함수들이 클래스의 메서드로 변경되었습니다.

WeatherDisplay 클래스의 주요 메서드는 다음과 같습니다.

__init__(self): 초기화 메서드로, 객체가 생성될 때 자동으로 호출됩니다.

이 메서드에서 멤버 변수들의 초기값을 설정하고, 필요한 리소스를 로드합니다.

CV2PIL(self, img), PIL2CV(self, img): 이미지 변환 메서드로, 각각 OpenCV 형식의 이미지를 PIL 형식으로, 

PIL 형식의 이미지를 OpenCV 형식으로 변환해줍니다.

touchScreen(self, event, x, y, flags, param): 터치스크린 이벤트 처리 메서드로,

화면에 터치 이벤트가 발생할 때 호출되어 이벤트를 처리합니다.

what_day_is_today(self): 오늘의 요일을 반환하는 메서드로, 날짜 정보를 화면에 표시할 때 사용합니다.

run(self): 프로그램의 메인 메서드로, 클래스의 인스턴스를 생성한 후 이 메서드를 호출하면 프로그램이 실행됩니다. 

이 메서드 내에서는 OpenCV를 사용하여 이미지를 처리하고 표시하는 작업을 수행합니다.

이제 WeatherDisplay 클래스의 인스턴스를 생성하고 run 메서드를 호출하여 프로그램을 실행할 수 있습니다.

객체 지향적으로 리팩토링한 코드는 가독성이 좋고, 유지 보수 및 확장이 용이합니다.

## 2. Arduino 시간 동기화 코드 추가

이전의 코드에서 센서 데이터를 한 번에 읽고 처리하면서 시간 동기화에 문제가 발생할 수 있을것으로 예상되었습니다. 

이 문제를 해결하기 위해 코드를 수정하여 즉각적으로 센서가 반응하지 않아도 되는 온,습도에 대해서 별로로 관리하도록 구현하였습니다.

아두이노의 MsTimer2 라이브러리를 사용하여, 온습도 센서에 대해 인터럽트 방식으로 구현하였고,

전역변수로 관리하여, 2초에 한번씩 갱신 되도록 하였습니다.

다른 센서들은 온습도 센서 대비 즉각적으로 반응해야 할 필요가 있고, 상대적으로 데이터를 읽어들이는데 소요시간이 적어

별도의 타이머를 사용하지 않고 구현하였습니다.

이 방법을 통해 만약 문제가 발생할 수 있는 상황을 예방할 수 있을것으로 기대하고 있습니다.
